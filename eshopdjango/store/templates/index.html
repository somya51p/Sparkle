{% extends 'base.html' %}
{% load static %} 
{% block content %}

{% load cart %}
{% load custom_filter %}
<!-- body -->
<section class="banner">
	<div class="banner_container">
		<img src="{% static 'images/tiles/ring_tile.jpg' %}" alt=" Rings tile photo" class="banner_img">
		<img src="{% static 'banner-title/Bracelets.svg' %}" alt="Rings written in script font" class="page_title">
	</div>
</section>

<!-- filter -->

		<section class="product_grid">
		<div class="pg_container">
		<div class="filter_container">
			<div class="filter_ele">
				<h5 class="filter_title serif">Category</h5>
				<ul>
					<li class="f_list_item sans"><input type="radio" name="category"><a href="/store">All Products</a>
				{% for category in categories %}
				<li class="f_list_item sans"><input type="radio" name="category"><a href="/?category={{category.id}}">{{category.name}}</a></li>
					
				{% endfor %}
			</div>

			<div class="filter_ele">
				<h5 class="filter_title serif">Material</h5>
				<ul>
					<li class="f_list_item sans"><input id="alu" type="checkbox"><label for="alu">Aluminum</label></li>
					<li class="f_list_item sans"><input id="brass" type="checkbox"><label for="brass">Brass</label></li>
					<li class="f_list_item sans"><input id="bronze" type="checkbox"><label for="bronze">Bronze</label></li>
					<li class="f_list_item sans"><input id="copper" type="checkbox"><label for="copper">Copper</label></li>
					<li class="f_list_item sans"><input id="nickel" type="checkbox"><label for="nickel">Nickel Silver</label></li>
					<li class="f_list_item sans"><input id="steel" type="checkbox"><label for="steel">Stainless Steel</label></li>
					<li class="f_list_item sans"><input id="titanium" type="checkbox"><label for="titanium">Titanium</label></li>
				</ul>
			</div>
			<div class="filter_ele">
				<h5 class="filter_title serif">Color</h5>
				<ul>
					<li class="f_list_item sans"><input type="checkbox" id="red"><label for="red">Red</label></li>
					<li class="f_list_item sans"><input type="checkbox" id="blue"><label for="blue">Blue</label></li>
					<li class="f_list_item sans"><input type="checkbox" id="green"><label for="green">Green</label></li>
					<li class="f_list_item sans"><input type="checkbox" id="gray"><label for="gray">Gray</label></li>
					<li class="f_list_item sans"><input type="checkbox" id="black"><label for="black">Black</label></li>
					<li class="f_list_item sans"><input type="checkbox" id="yellow"><label for="yellow">Yellow</label></li>
					<li class="f_list_item sans"><input type="checkbox" id="purple"><label for="purple">Purple</label></li>
				</ul>
			</div>
			<div class="filter_ele">
				<h5 class="filter_title serif">Price</h5>
				<ul>
					<li class="f_list_item sans"><input type="checkbox" id="less-10"><label for="less-10">Under $10</label></li>
					<li class="f_list_item sans"><input type="checkbox" id="10-20"><label for="10-20">$10 - $20</label></li>
					<li class="f_list_item sans"><input type="checkbox" id="20-40"><label for="20-40">$20 - $40</label></li>
					<li class="f_list_item sans"><input type="checkbox" id="40-60"><label for="40-60">$40 - $60</label></li>
					<li class="f_list_item sans"><input type="checkbox" id="60-80"><label for="60-80">$60 - $80</label></li>
					<li class="f_list_item sans"><input type="checkbox" id="80-100"><label for="80-100">$80 - $100</label></li>
					<li class="f_list_item sans"><input type="checkbox" id="abv-100"><label for="abv-100">Above $100</label></li>
				</ul>
			</div>
		</div>
		

		<!-- all products -->
		<div id='products' class="product_cards_grid">
			<div class="product_gallery">
				{% for product in products %}
				<div class="product_card" id={{product.id}} style="width: 18rem;">
					<a href="#" class="img_link" ><img class="prod_img" style="max-width:20rem; height: 12rem;" src="{{product.image.url}}" alt="Card image cap"></a>
						<p class="prod_name serif">{{product.name}}</p>
						<p class="prod_price serif">{{product.price|currency}}</p>
						<!-- {{product | is_in_cart:request.session.cart }} -->

					<div class="a_btn">

						{% if product|is_in_cart:request.session.cart %}
						<div class="row no-gutters">
							<form action="/#{{product.id}}" class="col-2 " method="post">
								{% csrf_token %}
								<input hidden type="text" name='product' value='{{product.id}}'>
								<input hidden type="text" name='remove' value='True'>
								<input type="submit" value=" - " class="btn btn-block btn-light border-right">
							</form>
							<!-- <div class="a_btn">
								<button id="add_cart_btn"><span id="plus" class="material-icons-outlined">{{product|cart_quantity:request.session.cart}}</span></button>
							</div>
							<div class="fav_btn">
								<button class="material-icons-outlined">favorite</button>
							</div> -->
							<div class="material-icons-outlined text-center col">{{product|cart_quantity:request.session.cart}}</div>
							<form action="/#{{product.id}}" class="col-2 " method="post">
								{% csrf_token %}
								<input hidden type="text" name='product' value='{{product.id}}'>
								<input type="submit" value=" + " class="btn btn-block btn-light border-left">
							</form>
						</div>
						{% else %}
						<form action="/#{{product.id}}" method="POST" class="btn-block">
							{% csrf_token %}
							<input hidden type="text" name='product' value='{{product.id}}'>
							<input type="submit" class="float-right btn btn-light  form-control"
								value="Add">
						</form>
						{% endif %}

					</div>

				</div>
				{% endfor %}
			</div>
		</div>
	</div>
</section>


{% endblock %}